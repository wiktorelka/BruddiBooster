<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BruddiBooster</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/style.css?v=9">
    <script src="https://cdn.jsdelivr.net/npm/chart.js/dist/chart.umd.min.js"></script>
</head>
<body>
    <div id="toast-container"></div>
    <div id="loginOverlay">
        <div class="login-card">
            <div class="login-logo"><i class="fa-brands fa-steam"></i> BruddiBooster</div>
            <div id="loginStep1"><div class="login-input-group"><i class="fa-solid fa-user"></i><input type="text" id="panelUser" class="login-input" placeholder="Username" autocomplete="off"></div><div class="login-input-group"><i class="fa-solid fa-lock"></i><input type="password" id="panelPass" class="login-input" placeholder="Password"></div><div class="remember-me-container"><input type="checkbox" id="rememberMe"><label for="rememberMe">Remember me</label></div><button class="login-btn" onclick="performLogin()">Login</button></div>
            <div id="loginStep2" class="hidden"><p style="color: var(--text-muted); margin-bottom: 15px; font-size: 14px;">Enter 2FA Code</p><div class="login-input-group"><i class="fa-solid fa-shield-halved"></i><input type="text" id="panel2FA" class="login-input" placeholder="000000" maxlength="6" autocomplete="one-time-code"></div><button class="login-btn" onclick="performLogin(true)">Verify Code</button></div>
            <p id="loginError" style="color: var(--btn-red); font-size: 12px; margin-top: 15px; display: none;">Invalid credentials</p>
        </div>
    </div>
    <div id="app-root"></div>
    <template id="protected-view">
    <div class="sidebar">
        <div class="brand"><div style="display:flex;align-items:center;gap:10px;"><i class="fa-brands fa-steam"></i> BruddiBooster</div><i class="fa-solid fa-bars mobile-toggle" onclick="toggleMobileMenu()"></i></div>
        <div class="menu"><div class="nav-item active" id="nav-dash" onclick="switchTab('dash')"><i class="fa-solid fa-server"></i> Dashboard</div><div class="nav-item" id="nav-freegames" onclick="switchTab('freegames')"><i class="fa-solid fa-gift"></i> Free Games</div><div class="nav-item" id="nav-proxies" onclick="switchTab('proxies')"><i class="fa-solid fa-network-wired"></i> Proxies</div><div class="nav-item" id="nav-bundles" onclick="switchTab('bundles')"><i class="fa-solid fa-layer-group"></i> Bundles</div><div class="nav-item" id="nav-statistics" onclick="switchTab('statistics')"><i class="fa-solid fa-chart-pie"></i> Statistics</div><div class="nav-item" id="nav-logs" onclick="switchTab('logs')"><i class="fa-solid fa-terminal"></i> Logs</div><div class="nav-item" id="nav-faq" onclick="switchTab('faq')"><i class="fa-solid fa-circle-question"></i> FAQ & Codes</div><div class="nav-item" id="nav-users" onclick="switchTab('users')" style="display: none;"><i class="fa-solid fa-users"></i> Users</div><div class="nav-item" id="nav-settings" onclick="switchTab('settings')"><i class="fa-solid fa-gear"></i> Settings</div></div>
        <div class="sidebar-footer"><button class="btn-logout" onclick="logout()"><i class="fa-solid fa-arrow-right-from-bracket"></i> Logout</button></div>
    </div>
    <div class="main-content">
        <div id="view-dash">
            <div class="dash-stats-row"><div class="dash-card"><div class="dash-icon"><i class="fa-solid fa-users"></i></div><div class="dash-info"><span class="dash-label">Total Accounts</span><span class="dash-value" id="totalAccounts">0</span></div></div><div class="dash-card"><div class="dash-icon" style="color:var(--status-green); background:rgba(74,222,128,0.1);"><i class="fa-solid fa-play"></i></div><div class="dash-info"><span class="dash-label">Active Boosters</span><span class="dash-value" id="activeBoosters" style="color:var(--status-green)">0</span></div></div><div class="dash-card"><div class="dash-icon" style="color:#facc15; background:rgba(250,204,21,0.1);"><i class="fa-solid fa-clock"></i></div><div class="dash-info"><span class="dash-label">Total Hours Farmed</span><span class="dash-value" id="totalHours">0.0h</span></div></div></div>
            <div class="header"><h1>Accounts</h1><div class="header-controls"><input type="text" id="accountSearch" placeholder="Search accounts..." class="form-input" style="width: 200px;"><button class="btn-sec" onclick="exportAccounts()" title="Export Accounts"><i class="fa-solid fa-file-export"></i></button><button class="primary-btn" id="btnBulk"><i class="fa-solid fa-list-ul"></i> Bulk Add</button><button class="primary-btn" id="btnAdd"><i class="fa-solid fa-plus"></i> Add Account</button></div></div>
            <div id="accountsContainer"></div>
        </div>
        <div id="bulkActionsBar" class="bulk-bar" style="display:none;"><span><span id="selectedCount">0</span> Selected</span><div style="display:flex;gap:10px;"><button class="icon-btn" onclick="openBulkEditModal()" title="Edit Selected"><i class="fa-solid fa-pen"></i></button><button class="icon-btn" onclick="bulkAction('start')" title="Start Selected"><i class="fa-solid fa-play" style="color:var(--status-green)"></i></button><button class="icon-btn" onclick="bulkAction('stop')" title="Stop Selected"><i class="fa-solid fa-stop" style="color:var(--btn-red)"></i></button><button class="icon-btn" onclick="bulkAction('delete')" title="Delete Selected"><i class="fa-solid fa-trash"></i></button></div></div>
        <div id="view-freegames" style="display: none;">
            <div class="header">
                <h1>Add Free Games</h1>
                <div class="header-controls">
                    <div style="display:flex; gap:5px;">
                        <select id="freeGamesPresetSelect" class="form-select" style="width: 160px;" onchange="loadFreeGamesPreset()">
                            <option value="">Load Preset...</option>
                        </select>
                        <button class="btn-sec" onclick="saveFreeGamesPreset()" title="Save Selection as Preset"><i class="fa-solid fa-floppy-disk"></i></button>
                    </div>
                    <div style="width: 1px; background: var(--border); height: 24px; align-self: center;"></div>
                    <button class="primary-btn" onclick="submitFreeGames()"><i class="fa-solid fa-plus"></i> Add to Selected</button>
                </div>
                <div id="freeGamesProgress" style="display:none; flex:1; margin: 0 20px; align-items:center; gap:10px;">
                    <span style="font-size:12px; white-space:nowrap;">Processing: <span id="fgProgText">0/0</span></span>
                    <div style="flex:1; height:8px; background:var(--bg-secondary); border-radius:4px; overflow:hidden;"><div id="fgProgBar" style="height:100%; width:0%; background:var(--accent); transition:width 0.3s;"></div></div>
                </div>
            </div>
            
            <div class="split-view">
                <div class="panel split-panel">
                    <div class="panel-header">
                        <div style="display:flex; justify-content: space-between; align-items: center; width: 100%; margin-bottom: 10px;">
                            <h3><i class="fa-solid fa-gamepad"></i> Select Games</h3>
                            <button class="btn-sec btn-sm" onclick="toggleAllFreeGames()">Select All Visible</button>
                        </div>
                        <input type="text" id="freeGameSearch" class="form-input" placeholder="Search free games..." oninput="renderFreeGamesUI()">
                    </div>
                    <div id="freeGamesGrid" class="game-grid"></div>
                </div>
                
                <div class="panel split-panel">
                    <div class="panel-header">
                        <div style="display:flex;justify-content:space-between;align-items:center;width:100%;">
                            <h3><i class="fa-solid fa-users"></i> Accounts (<span id="freeAccCount">0</span>)</h3>
                            <div style="display:flex;gap:5px;"><button class="btn-sec btn-sm" id="btnHideOwned" onclick="toggleHideOwned()" title="Hide accounts that already own selected games"><i class="fa-solid fa-filter"></i> Hide Owned</button><button class="btn-sec btn-sm" onclick="toggleAllFreeAccounts()">Select All</button></div>
                        </div>
                        <span class="panel-subtitle">Select target accounts</span>
                    </div>
                    <div id="freeAccountsGrid"></div>
                </div>
            </div>
        </div>
        <div id="view-proxies" style="display: none;">
            <div class="header"><h1>Proxy Manager</h1><div class="header-controls"><button class="primary-btn" onclick="testAllProxies()"><i class="fa-solid fa-stethoscope"></i> Test All</button><button class="primary-btn" onclick="openBulkProxyModal()"><i class="fa-solid fa-file-import"></i> Bulk Import</button><button class="primary-btn" onclick="saveAllProxies()"><i class="fa-solid fa-floppy-disk"></i> Save All Changes</button></div></div>
            
            <div class="panel" style="margin-bottom: 20px; padding: 20px;">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
                    <h3><i class="fa-solid fa-earth-americas"></i> Global Proxy Pool</h3>
                    <button class="btn-sec btn-sm" onclick="saveGlobalPool()">Save Pool</button>
                </div>
                <p style="color:var(--text-muted); font-size:12px; margin-bottom:10px;">Bots will automatically rotate to use these proxies if they crash or get rate-limited. One proxy per line.</p>
                <textarea id="globalProxyPoolInput" class="form-input" style="min-height: 100px; font-family: monospace;" placeholder="http://user:pass@ip:port"></textarea>
            </div>

            <div id="proxiesContainer"></div>
        </div>
        <div id="view-bundles" style="display: none;"><div class="header"><h1>Game Bundles</h1><div class="header-controls"><input type="text" id="bundleSearch" placeholder="Search bundles..." class="form-input" style="width: 200px;"><button class="primary-btn" onclick="openBundleModal()"><i class="fa-solid fa-plus"></i> Create Bundle</button></div></div><div id="bundlesContainer" class="panel" style="padding: 20px; display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 15px;"></div></div>
        <div id="view-statistics" style="display: none;"><div class="header"><h1>Statistics</h1></div><div class="panel" style="padding: 20px;"><div class="dash-stats-row" style="margin-bottom: 20px;"><div class="dash-card"><div class="dash-icon"><i class="fa-solid fa-users"></i></div><div class="dash-info"><span class="dash-label">Total Accounts</span><span class="dash-value" id="statsTotal">0</span></div></div><div class="dash-card"><div class="dash-icon" style="color:var(--status-green); background:rgba(74,222,128,0.1);"><i class="fa-solid fa-shield-halved"></i></div><div class="dash-info"><span class="dash-label">With Steam Guard</span><span class="dash-value" id="statsGuardYes" style="color:var(--status-green)">0</span></div></div><div class="dash-card"><div class="dash-icon" style="color:var(--btn-red); background:rgba(239,68,68,0.1);"><i class="fa-solid fa-triangle-exclamation"></i></div><div class="dash-info"><span class="dash-label">No Steam Guard</span><span class="dash-value" id="statsGuardNo" style="color:var(--btn-red)">0</span></div></div></div><div style="display:flex;gap:20px;flex-wrap:wrap;"><div style="flex:1;min-width:300px;"><h3>Accounts without Steam Guard</h3><div id="noGuardList" style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 15px;"></div></div><div style="flex:1;min-width:300px;max-width:400px;display:flex;flex-direction:column;align-items:center;"><h3>Bot Status</h3><div style="width:100%;max-width:300px;"><canvas id="statusChart"></canvas></div></div></div></div></div>
        <div id="view-users" style="display: none;"><div class="header"><h1>Users</h1><button class="primary-btn" onclick="openUserModal()"><i class="fa-solid fa-user-plus"></i> Add User</button></div><div class="panel"><table><thead><tr><th>Username</th><th>Role</th><th>Action</th></tr></thead><tbody id="usersTableBody"></tbody></table></div></div>
        <div id="view-logs" style="display: none;"><div class="header"><h1>System Logs</h1><div class="header-controls"><input type="text" id="logSearch" placeholder="Search logs..." class="form-input" style="width: 200px;"><button class="btn-sec" onclick="clearLogs()" title="Clear Logs"><i class="fa-solid fa-trash"></i></button><button class="btn-sec" onclick="exportLogs()" title="Download Logs"><i class="fa-solid fa-download"></i></button><button class="primary-btn" onclick="fetchLogs()"><i class="fa-solid fa-sync-alt"></i> Refresh</button></div></div><div class="log-container" id="logsContainer"></div></div>
        <div id="view-faq" style="display: none;"><div class="header"><h1>FAQ & Steam Codes</h1></div><div class="panel" style="padding: 25px;"><h3 style="border-bottom:1px solid var(--border);padding-bottom:10px;margin-bottom:15px;"><i class="fa-solid fa-triangle-exclamation"></i> Common Steam Error Codes</h3><div style="overflow-x:auto;"><table style="width:100%;"><thead><tr><th style="width:80px;">Code</th><th style="width:200px;">Error Name</th><th>Description & Solution</th></tr></thead><tbody id="faqCodesBody"></tbody></table></div><h3 style="border-bottom:1px solid var(--border);padding-bottom:10px;margin-bottom:15px;margin-top:40px;"><i class="fa-solid fa-circle-question"></i> Frequently Asked Questions</h3><div id="faqList" style="display:flex;flex-direction:column;gap:15px;"></div></div></div>
        <div id="view-settings" style="display: none;"><div class="header"><h1>Settings</h1></div><div class="settings-grid"><div class="settings-card"><h3><i class="fa-solid fa-palette"></i> Appearance</h3><div style="display:flex;justify-content:space-between;align-items:center;"><span style="font-size:14px;">Light Mode</span><label class="switch"><input type="checkbox" id="themeToggle" onchange="toggleTheme()"><span class="slider round"></span></label></div></div><div class="settings-card"><h3><i class="fa-brands fa-discord"></i> Configuration</h3><div class="form-group"><label>Discord Webhook URL</label><input type="text" class="form-input" id="discordWebhook" placeholder="https://discord.com/api/webhooks/..."></div><div class="form-group" style="margin-top:10px;"><label>Game Rotation Interval (Minutes)</label><input type="number" class="form-input" id="rotationInterval" min="10" value="60"></div><div style="display:flex; gap:10px; margin-top:10px;"><button class="primary-btn" onclick="saveGlobalSettings()">Save Settings</button><button class="btn-sec" onclick="testWebhook()">Test Webhook</button></div></div><div class="settings-card"><h3><i class="fa-solid fa-lock"></i> Security</h3><div class="form-group"><label>Current Password</label><input type="password" class="form-input" id="setOldPass"></div><div class="form-group"><label>New Password</label><input type="password" class="form-input" id="setNewPass"></div><button class="primary-btn" onclick="changePassword()" style="margin-top:10px;">Update Password</button></div><div class="settings-card"><h3><i class="fa-solid fa-shield-halved"></i> Two-Factor Authentication</h3><div id="2fa-content-area"></div></div><div class="settings-card"><h3><i class="fa-solid fa-robot"></i> Bot Controls</h3><p style="color:var(--text-muted);font-size:14px;margin-bottom:15px;">Mass actions for all accounts.</p><div style="display:flex;gap:10px;"><button class="primary-btn" onclick="restartAllBots()" style="flex:1;justify-content:center;"><i class="fa-solid fa-rotate"></i> Restart All</button><button class="primary-btn" onclick="panicStop()" style="background:var(--btn-red);flex:1;justify-content:center;"><i class="fa-solid fa-power-off"></i> Stop All</button></div></div></div></div>
    </div>
    <div id="addModal" class="modal-overlay"><div class="modal"><h3>Add Account</h3><div class="form-group"><label>Username</label><input type="text" class="form-input" id="newUsername" autocomplete="off"></div><div class="form-group"><label>Password</label><input type="password" class="form-input" id="newPassword" autocomplete="new-password"></div><div class="form-group"><label>Shared Secret (Optional)</label><input type="password" class="form-input" id="newSharedSecret"></div><div class="form-group"><label>Category</label><input type="text" class="form-input" id="newCategory" placeholder="Default"></div><div class="check-row"><input type="checkbox" id="newAutoStart"><label for="newAutoStart">Auto-start on Server Boot</label></div><div class="modal-footer"><button class="btn-sec" onclick="closeModals()">Cancel</button><button class="primary-btn" onclick="addAccount()">Add</button></div></div></div>
    <div id="bulkModal" class="modal-overlay"><div class="modal"><h3>Bulk Import</h3><p style="color:var(--text-muted);font-size:12px;margin-bottom:10px;">Format: <code>username:password</code> or <code>username:password:secret</code> (one per line)</p><textarea id="bulkData" placeholder="user1:pass1&#10;user2:pass2:secret"></textarea><div class="form-group" style="margin-top:15px;"><label>Assign Category</label><input type="text" class="form-input" id="bulkCategory" placeholder="Default"></div><div class="form-group"><label>Assign Game Bundle</label><select id="bulkBundle" class="form-select"><option value="">Default (CS2)</option></select></div><div class="check-row"><input type="checkbox" id="bulkAutoStart"><label for="bulkAutoStart">Auto-start imported accounts</label></div><div class="check-row"><input type="checkbox" id="bulkProxyWait"><label for="bulkProxyWait">Wait for proxies (Don't start yet)</label><i class="fa-solid fa-eye" title="Enable this to import accounts with Auto-start enabled, but prevent them from running immediately so you can add proxies." style="margin-left:5px;color:var(--text-muted);cursor:help;"></i></div><div class="modal-footer"><button class="btn-sec" onclick="closeModals()">Cancel</button><button class="primary-btn" onclick="bulkAddAccounts()">Import</button></div></div></div>
    <div id="bulkEditModal" class="modal-overlay"><div class="modal"><h3>Bulk Edit Selected</h3><div class="form-group"><label>Set Category (Leave empty to keep)</label><input type="text" class="form-input" id="bulkEditCategory"></div><div class="form-group"><label>Set Auto-Start</label><select id="bulkEditAutoStart" class="form-select"><option value="">No Change</option><option value="true">Enable</option><option value="false">Disable</option></select></div><div class="form-group"><label>Set Game Bundle</label><select id="bulkEditBundle" class="form-select"><option value="">No Change</option></select></div><div class="form-group"><label>Assign Proxies (One per line, assigned sequentially)</label><textarea id="bulkEditProxies" placeholder="http://p1...&#10;http://p2..."></textarea></div><div class="modal-footer"><button class="btn-sec" onclick="closeModals()">Cancel</button><button class="primary-btn" onclick="submitBulkEdit()">Apply Changes</button></div></div></div>
    <div id="bulkProxyModal" class="modal-overlay"><div class="modal"><h3>Bulk Proxy Import</h3><p style="color:var(--text-muted);font-size:12px;margin-bottom:10px;">Paste proxies (one per line). They will be filled into the list below for review.</p><textarea id="bulkProxyInput" placeholder="http://user:pass@ip:port&#10;http://user:pass@ip:port"></textarea><div class="form-group" style="margin-top:10px;"><label>Target Category</label><select id="bulkProxyCategory" class="form-select"><option value="">All Categories</option></select></div><div class="form-group" style="margin-top:10px;"><label>Accounts per Proxy</label><input type="number" class="form-input" id="bulkProxyRatio" value="1" min="1"></div><div class="modal-footer"><button class="btn-sec" onclick="closeModals()">Cancel</button><button class="primary-btn" onclick="submitBulkProxyImport()">Fill List</button></div></div></div>
    <div id="editModal" class="modal-overlay"><div class="modal"><h3>Edit Account</h3><input type="hidden" id="editOldUsername"><div class="form-group"><label>Username</label><input type="text" class="form-input" id="editUsername"></div><div class="form-group"><label>Password</label><input type="password" class="form-input" id="editPassword"></div><div class="form-group"><label>Shared Secret</label><input type="password" class="form-input" id="editSharedSecret"></div><div class="form-group"><label>Proxy</label><input type="text" class="form-input" id="editProxy"></div><div class="form-group"><label>Category</label><input type="text" class="form-input" id="editCategory"></div><div class="check-row"><input type="checkbox" id="editAutoStart"><label for="editAutoStart">Auto-start on Server Boot</label></div><div class="modal-footer"><button class="btn-sec" onclick="closeModals()">Cancel</button><button class="primary-btn" onclick="saveEdit()">Save</button></div></div></div>
    <div id="profileModal" class="modal-overlay"><div class="modal" style="width: 500px;"><h3>Edit Profile</h3><input type="hidden" id="profileUsername"><div style="display:flex;gap:10px;"><div class="form-group" style="flex:1;"><label>Nickname</label><input type="text" class="form-input" id="profileNickname" autocomplete="off"></div><div class="form-group" style="flex:1;"><label>Real Name</label><div style="display:flex;gap:5px;"><input type="text" class="form-input" id="profileRealName" autocomplete="off"><button class="btn-sec" onclick="document.getElementById('profileRealName').value=''" title="Clear"><i class="fa-solid fa-eraser"></i></button></div></div></div><div class="form-group"><label>Custom URL (steamcommunity.com/id/...)</label><div style="display:flex;gap:5px;"><input type="text" class="form-input" id="profileCustomURL" autocomplete="off"><button class="btn-sec" onclick="document.getElementById('profileCustomURL').value=''" title="Clear"><i class="fa-solid fa-eraser"></i></button></div></div><div class="form-group"><label>Avatar</label><input type="file" class="form-input" id="profileAvatar" accept="image/*"></div><div class="modal-footer"><button class="btn-sec" onclick="closeModals()">Cancel</button><button class="primary-btn" onclick="saveProfile()">Save</button></div></div></div>
    <div id="gamesModal" class="modal-overlay"><div class="modal" style="width: 800px; max-width: 95vw;"><h3>Manage Games</h3><div class="bundle-controls"><select id="bundleSelect" class="form-select" style="flex:1;"><option value="">Select Bundle...</option></select><button class="btn-sec" onclick="loadBundle()" title="Replace current games with bundle" style="margin-left:8px;">Load</button><button class="primary-btn" onclick="addBundle()" title="Add bundle to current list" style="margin-left:5px;">Add</button></div><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:5px;"><div style="display:flex;align-items:center;gap:10px;"><span style="font-size:12px;color:var(--text-muted);">Selected Games</span><button class="btn-sec" style="padding:2px 8px;font-size:10px;border-color:var(--btn-red);color:var(--btn-red);" onclick="clearAllGames()">Clear</button></div><span id="gameCounter" style="font-size:12px;color:var(--text-muted);">0/32</span></div><div class="game-tags" id="selectedGamesBox"></div><div style="position:relative;margin-bottom:15px;"><input type="text" class="form-input" id="gameSearch" placeholder="Search games..."><div class="search-results" id="searchResults"></div></div><div style="display:flex;gap:10px;"><div class="form-group" style="flex:1;"><label>Online Status</label><select id="personaState" class="form-select"><option value="1">Online</option><option value="0">Offline</option><option value="3">Away</option><option value="4">Snooze</option><option value="5">Trading</option><option value="6">Playing</option><option value="7">Invisible</option></select></div><div class="form-group" style="flex:2;"><label>Custom Status Text</label><input type="text" class="form-input" id="customStatus"></div></div><div class="library-section"><div class="library-title" style="display:flex;justify-content:space-between;align-items:center;"><span>My Library (Click to add)</span><button class="primary-btn" style="padding:4px 12px;font-size:11px;height:auto;" onclick="addAllLibraryGames()">Add All</button></div><div class="library-list" id="myLibraryList"><p style="color:#666;font-size:12px;text-align:center;">Loading owned games...</p></div></div><input type="hidden" id="manageGameUsername"><div class="modal-footer"><button class="btn-sec" onclick="closeModals()">Cancel</button><button class="primary-btn" onclick="saveGames()">Save</button></div></div></div>
    <div id="bundleModal" class="modal-overlay"><div class="modal" style="width: 500px;"><h3>Edit Bundle</h3><div class="form-group"><label>Bundle Name</label><input type="text" class="form-input" id="bundleName"></div><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:5px;"><span style="font-size:12px;color:var(--text-muted);">Selected Games</span><span id="bundleGameCounter" style="font-size:12px;color:var(--text-muted);">0/32</span></div><div class="game-tags" id="selectedBundleGamesBox"></div><div style="position:relative;margin-bottom:15px;"><input type="text" class="form-input" id="bundleGameSearch" placeholder="Search games..."><div class="search-results" id="bundleSearchResults"></div></div><div class="modal-footer"><button class="btn-sec" onclick="closeModals()">Cancel</button><button class="primary-btn" onclick="saveBundleFromTab()">Save Bundle</button></div></div></div>
    <div id="guardModal" class="modal-overlay"><div class="modal"><h3>Steam Guard</h3><input type="hidden" id="guardUsername"><div class="form-group"><label>Code</label><input type="text" class="form-input" id="guardCode" style="text-align:center;font-size:20px;letter-spacing:5px;"></div><div class="modal-footer"><button class="btn-sec" onclick="closeModals()">Cancel</button><button class="primary-btn" onclick="submitGuard()">Submit</button></div></div></div>
    <div id="addUserModal" class="modal-overlay"><div class="modal"><h3>Add User</h3><div class="form-group"><label>Username</label><input type="text" class="form-input" id="friendUser"></div><div class="form-group"><label>Password</label><input type="text" class="form-input" id="friendPass"></div><div class="modal-footer"><button class="btn-sec" onclick="closeModals()">Cancel</button><button class="primary-btn" onclick="addPanelUser()">Create</button></div></div></div>
    <div id="modal2FA" class="modal-overlay"><div class="modal" style="text-align:center;"><h3>Setup 2FA</h3><div id="qrCodeContainer" style="background:#fff;padding:10px;display:inline-block;border-radius:8px;"></div><p style="font-size:12px;color:#666;margin:15px 0;">Scan with Authenticator App</p><input type="text" id="verify2faInput" class="form-input" placeholder="Enter Code" style="text-align:center;"><button class="primary-btn" onclick="enable2FA()" style="width:100%;margin-top:10px;">Enable</button><button class="btn-sec" onclick="document.getElementById('modal2FA').style.display='none'" style="width:100%;margin-top:10px;">Cancel</button></div></div>
    <div id="statsModal" class="modal-overlay"><div class="modal"><h3>Boost Statistics</h3><div class="stat-box"><div class="stat-label">Added To Library</div><div class="stat-value"><span id="statAdded"></span></div></div><div class="stat-box"><div class="stat-label">Total Boosted Time</div><div class="stat-value" style="color:var(--status-green);"><span id="statBoosted"></span> Hours</div></div><p style="font-size:12px;color:#666;margin-top:10px;">*Calculation: 1 real hour x N games running.</p><div class="modal-footer"><button class="primary-btn" onclick="document.getElementById('statsModal').style.display='none'">Close</button></div></div></div>
    <div id="confirmModal" class="modal-overlay" style="z-index:9999;"><div class="modal" style="max-width:400px;"><h3 id="confirmTitle">Confirmation</h3><p id="confirmMessage" style="color:var(--text-main);margin:15px 0;line-height:1.5;"></p><div class="modal-footer"><button class="btn-sec" onclick="resolveConfirm(false)">Cancel</button><button class="primary-btn" onclick="resolveConfirm(true)">Confirm</button></div></div></div>
    </template>

    <script src="/socket.io/socket.io.js"></script>
    <script src="/login.js"></script>
</body>
</html>